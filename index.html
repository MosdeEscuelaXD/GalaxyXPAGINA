<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galaxy X | Hub GalÃ¡ctico</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="https://i.ibb.co/6y40F2r/default-avatar.png">
</head>
<body data-theme="galaxy">

    <!-- FONDO GALÃCTICO DINÃMICO -->
    <canvas id="galaxyCanvas"></canvas>

    <!-- SIDEBAR -->
    <aside id="sidebar" role="navigation" aria-label="NavegaciÃ³n principal del Hub GalÃ¡ctico">
        <header>
            <h1 class="glow-title">Galaxy X 7.0</h1>
        </header>

        <!-- Selector de tema -->
        <div id="themeSelector" class="control-group">
            <label for="themeSelect">Tema:</label>
            <select id="themeSelect" aria-label="Seleccionar tema de color">
                <option value="galaxy">ğŸŒŒ Galaxia (Defecto)</option>
                <option value="ocean">ğŸŒŠ OcÃ©ano</option>
                <option value="lava">ğŸ”¥ Lava</option>
                <option value="neon">âš¡ NeÃ³n Verde</option>
                <option value="snow">â„ï¸ Nieve</option>
                <option value="darkStellar">ğŸŒ‘ Oscuro Estelar</option>
                <option value="custom">ğŸŒˆ Color Personalizado</option>
            </select>
            <input type="color" id="customColorInput" style="display: none;">
        </div>

        <!-- NavegaciÃ³n principal -->
        <nav>
            <ul>
                <li><button class="nav-btn active" data-section="chat" title="Chat General">ğŸ’¬ Chat General</button></li>
                <li><button class="nav-btn" data-section="videos" title="Videos CÃ³smicos">ğŸ¥ Videos</button></li>
                <li><button class="nav-btn" data-section="foro" title="Foro GalÃ¡ctico">ğŸ“œ Foro</button></li>
                <li><button class="nav-btn" data-section="assistant" title="Asistente IA Luna">ğŸ¤– Asistente IA</button></li>
                <li><button class="nav-btn" data-section="musicAdvanced" title="MÃºsica Estelar">ğŸµ MÃºsica</button></li>
                <li><button class="nav-btn" data-section="explorer" title="Explorador de BÃºsqueda">ğŸ” Explorador</button></li>
                <li><button class="nav-btn" data-section="perfil" title="Tu Perfil">ğŸ‘¤ Perfil</button></li>
                <li><button class="nav-btn" data-section="info" title="InformaciÃ³n">â„¹ï¸ Info</button></li>
            </ul>
        </nav>

        <!-- Estado del perfil -->
        <div id="accountStatusSidebar" class="status-indicator">
            <span id="profileUsernameDisplay">Cargando Perfil...</span>
            <div id="notifications" class="notifications">ğŸ”” 0</div>
        </div>
    </aside>

    <!-- CONTENIDO PRINCIPAL -->
    <main id="mainContent" role="main" aria-live="polite">

        <!-- CHAT GENERAL -->
        <section id="chat" class="section">
            <h2 class="section-title glow">ğŸ’¬ Chat General</h2>
            <div class="chat-layout">
                <div id="serverList" class="server-list card">
                    <h3>Servidores</h3>
                    <ul id="servers">
                        <li class="server-item active" data-server="general">ğŸŒŒ General</li>
                    </ul>
                    <button id="addServerBtn" class="add-btn" title="Crear nuevo servidor">â• Crear Servidor</button>
                    <button id="deleteServerBtn" class="danger-btn" title="Eliminar servidor actual">ğŸ—‘ï¸ Eliminar Servidor</button>
                </div>
                <div id="channelList" class="channel-list card">
                    <h3>Canales</h3>
                    <ul id="channels">
                        <li class="channel-item active" data-channel="general">#general</li>
                    </ul>
                    <h3>Amigos</h3>
                    <ul id="friends">
                        <li class="friend-item" data-status="online">ğŸ‘¤ Usuario1 (En lÃ­nea)</li>
                    </ul>
                    <button id="addFriendBtn" class="add-btn" title="AÃ±adir amigo">â• AÃ±adir Amigo</button>
                    <button id="privateChatBtn" class="secondary-btn" title="Iniciar chat privado">ğŸ’¬ Chat Privado</button>
                </div>
                <div class="chat-main">
                    <div id="chatBox" class="card large chat-messages-container" role="log"></div>
                    <div class="chat-input-area">
                        <input type="text" id="chatInput" placeholder="Escribe tu mensaje..." class="input-full">
                        <button id="emojiBtn" class="secondary-btn" title="Insertar emoji">ğŸ˜€ Emojis</button>
                        <button id="sendChatBtn" class="primary-btn" title="Enviar mensaje">Enviar</button>
                        <button id="voiceChatBtn" class="secondary-btn" title="Voz (prÃ³ximamente)">ğŸ¤ Voz</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- ASISTENTE IA -->
        <section id="assistant" class="section hidden">
            <h2 class="section-title glow">ğŸ¤– Asistente IA</h2>
            <div class="ai-wrap card">
                <div class="ai-top">
                    <img id="assistantAvatar" src="https://i.pinimg.com/736x/04/af/75/04af75cbe0cf41a79ee459d3f74d3998.jpg" alt="Avatar IA" class="ai-avatar floating-circle">
                    <div class="ai-info-text">
                        <h3>Luna</h3>
                        <p class="muted">Tu copiloto cÃ³smico, lista para charlar y ayudar.</p>
                    </div>
                </div>
                <div id="assistantChat" class="ai-chat large chat-messages-container" role="log"></div>
                <div class="ai-controls">
                    <input type="text" id="assistantInput" placeholder="Habla con Luna..." class="input-full">
                    <button id="sendAIBtn" class="primary-btn" title="Enviar a Luna">Enviar</button>
                    <button id="clearAIBtn" class="secondary-btn" title="Borrar memoria">ğŸ§  Borrar Memoria</button>
                    <button id="nameGeneratorBtn" class="secondary-btn" title="Generar nombre espacial">ğŸš€ Generar Nombre Espacial</button>
                </div>
            </div>
        </section>

        <!-- VIDEOS -->
        <section id="videos" class="section hidden">
            <h2 class="section-title glow">ğŸ¥ Proyector GalÃ¡ctico</h2>
            <div class="card video-search-bar">
                <input type="text" id="youtubeSearch" placeholder="Buscar video..." class="input-full">
                <select id="videoCategory">
                    <option value="">Todas las categorÃ­as</option>
                    <option value="music">MÃºsica</option>
                    <option value="science">Ciencia</option>
                </select>
                <button id="searchYoutubeBtn" class="primary-btn" title="Buscar videos">Buscar</button>
            </div>
            <div class="card video-input-bar">
                <input type="text" id="youtubeLink" placeholder="O pega enlace..." class="input-full">
                <button id="playYoutubeBtn" class="primary-btn" title="Reproducir enlace">Reproducir</button>
            </div>
            <div id="videoPlayer" class="card video-player-container"></div>
            <div id="searchResults" class="card search-results grid-view"></div>
            <div id="favoritesVideos" class="card">Favoritos: <ul id="favVideosList"></ul></div>
        </section>

        <!-- FORO -->
        <section id="foro" class="section hidden">
            <h2 class="section-title glow">ğŸ“œ Foro CÃ³smico</h2>
            <div class="foro-layout">
                <div id="subreddits" class="subreddits card">
                    <h3>Subreddits</h3>
                    <ul>
                        <li class="subreddit-item active" data-sub="general">r/general <button class="delete-sub-btn" onclick="deleteSubreddit(0)">ğŸ—‘ï¸</button></li>
                        <li class="subreddit-item" data-sub="music">r/music <button class="delete-sub-btn" onclick="deleteSubreddit(1)">ğŸ—‘ï¸</button></li>
                        <li class="subreddit-item" data-sub="science">r/science <button class="delete-sub-btn" onclick="deleteSubreddit(2)">ğŸ—‘ï¸</button></li>
                    </ul>
                    <button id="createSubredditBtn" class="add-btn" title="Crear subreddit">â• Crear Subreddit</button>
                </div>
                <div class="foro-main">
                    <div class="card foro-post-creator">
                        <input type="text" id="foroTitulo" placeholder="TÃ­tulo..." class="input-full">
                        <textarea id="foroComentario" placeholder="Mensaje..." class="input-full" rows="4"></textarea>
                        <button id="postForoBtn" class="primary-btn" title="Publicar post">Publicar</button>
                    </div>
                    <div id="foroBox" class="card large foro-posts"></div>
                </div>
            </div>
        </section>

        <!-- MÃšSICA -->
        <section id="musicAdvanced" class="section hidden">
            <h2 class="section-title glow">ğŸ§ Central GalÃ¡ctica de Sonido</h2>
            <div class="card music-search-bar">
                <input type="text" id="musicSearch" placeholder="Buscar canciÃ³n..." class="input-full">
                <button id="searchMusicBtn" class="primary-btn" title="Buscar mÃºsica">Buscar</button>
            </div>
            <div class="card music-input-bar">
                <input type="text" id="musicLink" placeholder="O pega enlace..." class="input-full">
                <button id="playMusicBtn" class="primary-btn" title="Reproducir enlace">Reproducir</button>
            </div>
            <div class="card new-music-player">
                <div class="music-display">
                    <img id="albumArt" src="assets/img/galaxy_music.jpg" alt="CarÃ¡tula" class="album-art">
                    <div class="song-info">
                        <h3 id="songTitle">Ninguna canciÃ³n</h3>
                        <p id="songArtist">Selecciona...</p>
                    </div>
                </div>
                <div class="music-controls">
                    <button id="prevTrack" title="CanciÃ³n anterior">â®ï¸</button>
                    <button id="playPause" title="Play/Pause">â–¶ï¸</button>
                    <button id="nextTrack" title="CanciÃ³n siguiente">â­ï¸</button>
                </div>
                <input type="range" id="trackProgress" min="0" max="100" value="0">
                <div class="time-display">
                    <span id="currentTime">0:00</span> / <span id="totalTime">0:00</span>
                </div>
                <div class="volume-control">
                    <label for="volumeSlider">ğŸ”Š Volumen</label>
                    <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.5">
                </div>
                <div id="galaxyVisualizer" class="galaxy-visualizer"></div>
                <div class="galaxy-music-section">
                    <h4>ğŸµ MÃºsica de GalaxyX</h4>
                    <button class="song-btn galaxy-song" data-src="assets/audio/Mirror_Temple.mp3" data-title="Mirror Temple" data-artist="Celeste OST">ğŸµ Mirror Temple</button>
                    <button class="song-btn galaxy-song" data-src="assets/audio/Ender.mp3" data-title="Ender" data-artist="Mythic Beats">ğŸµ Ender</button>
                    <button class="song-btn galaxy-song" data-src="assets/audio/Tally.mp3" data-title="Tally" data-artist="Galaxy Beats">ğŸµ Tally</button>
                </div>
                <div id="musicSearchResults" class="search-results grid-view"></div>
                <div id="playlists" class="card">Listas: <ul id="playlistList"></ul><button id="createPlaylistBtn" class="secondary-btn" title="Crear lista">Crear Lista</button></div>
            </div>
        </section>

        <!-- EXPLORADOR -->
        <section id="explorer" class="section hidden">
            <h2 class="section-title glow">ğŸ” Explorador (BÃºsqueda)</h2>
            <div class="card search-engine">
                <input type="text" id="searchQuery" placeholder="Busca en Galaxy X..." class="input-full">
                <button id="searchBtn" class="primary-btn" title="Buscar">Buscar</button>
                <div id="searchResultsExplorer" class="search-results"></div>
            </div>
        </section>

        <!-- PERFIL -->
        <section id="perfil" class="section hidden">
            <h2 class="section-title glow">ğŸ‘¤ Perfil</h2>
            <div class="card profile-config-card">
                <label for="username">Nombre:</label>
                <input type="text" id="username" class="input-full">
                <label for="userEmail">Correo:</label>
                <input type="email" id="userEmail" class="input-full">
                <label for="userAvatarInput">Avatar:</label>
                <input type="file" id="userAvatarInput" accept="image/*">
                <div class="profile-actions">
                    <button id="saveProfileBtn" class="primary-btn" title="Guardar perfil">Guardar</button>
                    <button id="clearProfileBtn" class="danger-btn" title="Borrar perfil">Borrar</button>
                </div>
                <div id="profilePreview" class="profile-preview"></div>
                <div id="activityHistory" class="card">Historial: <ul id="historyList"></ul></div>
                <div id="badges" class="card">Badges: <span id="badgeList"></span></div>
            </div>
        </section>

        <!-- INFO -->
        <section id="info" class="section hidden">
            <h2 class="section-title glow">â„¹ï¸ Info</h2>
            <div class="card info-card">
                <p>Galaxy X: Hub galÃ¡ctico con chat, foro, mÃºsica y mÃ¡s.</p>
                <iframe src="https://drive.google.com/file/d/1w_DdAjCHnycZyHeLRUqRy9G75sb7PZSb/preview" width="100%" height="315"></iframe>
            </div>
        </section>

    </main>

    <!-- REPRODUCTOR FLOTANTE -->
    <div class="music-player">
        <button id="miniPrev">â®ï¸</button>
        <button id="miniPlayPause">â–¶ï¸</button>
        <button id="miniNext">â­ï¸</button>
        <span id="currentSongTitle">Ninguna</span>
        <input type="range" id="miniVolume" min="0" max="1" step="0.01" value="0.5">
    </div>

    <script src="script.js"></script>
    <script src="assets/icons/ai/assistant.js"></script>
</body>
</html>