<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galaxy X | Hub Galáctico</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="https://i.ibb.co/6y40F2r/default-avatar.png">
</head>
<body data-theme="galaxy">

    <!-- FONDO GALÁCTICO DINÁMICO -->
    <canvas id="galaxyCanvas"></canvas>

    <!-- SIDEBAR -->
    <aside id="sidebar" role="navigation" aria-label="Navegación principal del Hub Galáctico">
        <header>
            <h1 class="glow-title">Galaxy X 5.0</h1>
        </header>

        <!-- Selector de tema -->
        <div id="themeSelector" class="control-group">
            <label for="themeSelect">Tema:</label>
            <select id="themeSelect" aria-label="Seleccionar tema de color">
                <option value="galaxy">🌌 Galaxia (Defecto)</option>
                <option value="ocean">🌊 Océano</option>
                <option value="lava">🔥 Lava</option>
                <option value="neon">⚡ Neón Verde</option>
                <option value="custom">🌈 Color Personalizado</option>
            </select>
            <input type="color" id="customColorInput" style="display: none;">
            <button id="darkModeToggle" class="secondary-btn">🌙 Modo Oscuro Estelar</button>
            <button id="surpriseBtn" class="secondary-btn">🎉 Sorpresa</button>
        </div>

        <!-- Navegación principal -->
        <nav>
            <ul>
                <li><button class="nav-btn active" data-section="chat">💬 Chat General</button></li>
                <li><button class="nav-btn" data-section="videos">🎥 Videos</button></li>
                <li><button class="nav-btn" data-section="foro">📜 Foro</button></li>
                <li><button class="nav-btn" data-section="assistant">🤖 Asistente IA</button></li>
                <li><button class="nav-btn" data-section="musicAdvanced">🎵 Música</button></li>
                <li><button class="nav-btn" data-section="explorer">🚀 Explorador</button></li>
                <li><button class="nav-btn" data-section="trivia">🧠 Trivia Galáctica</button></li>
                <li><button class="nav-btn" data-section="perfil">👤 Perfil</button></li>
                <li><button class="nav-btn" data-section="info">ℹ️ Info</button></li>
            </ul>
        </nav>

        <!-- Estado del perfil -->
        <div id="accountStatusSidebar" class="status-indicator">
            <span id="profileUsernameDisplay">Cargando Perfil...</span>
            <div id="notifications" class="notifications">🔔 0</div>
        </div>
    </aside>

    <!-- CONTENIDO PRINCIPAL -->
    <main id="mainContent" role="main" aria-live="polite">

        <!-- CHAT GENERAL -->
        <section id="chat" class="section">
            <h2 class="section-title glow">💬 Chat General</h2>
            <div class="chat-layout">
                <div id="serverList" class="server-list card">
                    <h3>Servidores</h3>
                    <ul id="servers">
                        <li class="server-item active" data-server="general">🌌 General</li>
                    </ul>
                    <button id="addServerBtn" class="add-btn">➕</button>
                </div>
                <div id="channelList" class="channel-list card">
                    <h3>Canales</h3>
                    <ul id="channels">
                        <li class="channel-item active" data-channel="general">#general</li>
                    </ul>
                    <h3>Amigos</h3>
                    <ul id="friends">
                        <li class="friend-item" data-status="online">👤 Usuario1 (En línea)</li>
                    </ul>
                    <button id="addFriendBtn" class="add-btn">➕ Añadir Amigo</button>
                    <button id="privateChatBtn" class="secondary-btn">💬 Chat Privado</button>
                </div>
                <div class="chat-main">
                    <div id="chatBox" class="card large chat-messages-container" role="log"></div>
                    <div class="chat-input-area">
                        <input type="text" id="chatInput" placeholder="Escribe tu mensaje..." class="input-full">
                        <button id="emojiBtn" class="secondary-btn">😀 Emojis</button>
                        <button id="sendChatBtn" class="primary-btn">Enviar</button>
                        <button id="voiceChatBtn" class="secondary-btn">🎤 Voz</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- ASISTENTE IA -->
        <section id="assistant" class="section hidden">
            <h2 class="section-title glow">🤖 Asistente IA</h2>
            <div class="ai-wrap card">
                <div class="ai-top">
                    <img id="assistantAvatar" src="https://i.pinimg.com/736x/04/af/75/04af75cbe0cf41a79ee459d3f74d3998.jpg" alt="Avatar IA" class="ai-avatar floating-circle">
                    <div class="ai-info-text">
                        <h3>Luna</h3>
                        <p class="muted">Tu copiloto cósmico, lista para charlar y ayudar.</p>
                    </div>
                </div>
                <div id="assistantChat" class="ai-chat large chat-messages-container" role="log"></div>
                <div class="ai-controls">
                    <input type="text" id="assistantInput" placeholder="Habla con Luna..." class="input-full">
                    <button id="sendAIBtn" class="primary-btn">Enviar</button>
                    <button id="clearAIBtn" class="secondary-btn">🧠 Borrar Memoria</button>
                    <button id="nameGeneratorBtn" class="secondary-btn">🚀 Generar Nombre Espacial</button>
                </div>
            </div>
        </section>

        <!-- VIDEOS -->
        <section id="videos" class="section hidden">
            <h2 class="section-title glow">🎥 Proyector Galáctico</h2>
            <div class="card video-search-bar">
                <input type="text" id="youtubeSearch" placeholder="Buscar video..." class="input-full">
                <select id="videoCategory">
                    <option value="">Todas las categorías</option>
                    <option value="music">Música</option>
                    <option value="science">Ciencia</option>
                </select>
                <button id="searchYoutubeBtn" class="primary-btn">Buscar</button>
            </div>
            <div class="card video-input-bar">
                <input type="text" id="youtubeLink" placeholder="O pega enlace..." class="input-full">
                <button id="playYoutubeBtn" class="primary-btn">Reproducir</button>
            </div>
            <div id="videoPlayer" class="card video-player-container"></div>
            <div id="searchResults" class="card search-results"></div>
            <div id="favoritesVideos" class="card">Favoritos: <ul id="favVideosList"></ul></div>
        </section>

        <!-- FORO -->
        <section id="foro" class="section hidden">
            <h2 class="section-title glow">📜 Foro Cósmico</h2>
            <div class="foro-layout">
                <div id="subreddits" class="subreddits card">
                    <h3>Subreddits</h3>
                    <ul>
                        <li class="subreddit-item active" data-sub="general">r/general</li>
                        <li class="subreddit-item" data-sub="music">r/music</li>
                        <li class="subreddit-item" data-sub="science">r/science</li>
                    </ul>
                    <button id="createSubredditBtn" class="add-btn">➕ Crear Subreddit</button>
                </div>
                <div class="foro-main">
                    <div class="card foro-post-creator">
                        <input type="text" id="foroTitulo" placeholder="Título..." class="input-full">
                        <textarea id="foroComentario" placeholder="Mensaje..." class="input-full" rows="4"></textarea>
                        <button id="postForoBtn" class="primary-btn">Publicar</button>
                    </div>
                    <div id="foroBox" class="card large foro-posts"></div>
                </div>
            </div>
        </section>

        <!-- MÚSICA -->
        <section id="musicAdvanced" class="section hidden">
            <h2 class="section-title glow">🎧 Central Galáctica de Sonido</h2>
            <div class="card music-search-bar">
                <input type="text" id="musicSearch" placeholder="Buscar canción..." class="input-full">
                <button id="searchMusicBtn" class="primary-btn">Buscar</button>
            </div>
            <div class="card music-input-bar">
                <input type="text" id="musicLink" placeholder="O pega enlace..." class="input-full">
                <button id="playMusicBtn" class="primary-btn">Reproducir</button>
            </div>
            <div class="card new-music-player">
                <div class="music-display">
                    <img id="albumArt" src="assets/img/galaxy_music.jpg" alt="Carátula" class="album-art">
                    <div class="song-info">
                        <h3 id="songTitle">Ninguna canción</h3>
                        <p id="songArtist">Selecciona...</p>
                    </div>
                </div>
                <div class="music-controls">
                    <button id="prevTrack">⏮️</button>
                    <button id="playPause">▶️</button>
                    <button id="nextTrack">⏭️</button>
                </div>
                <input type="range" id="trackProgress" min="0" max="100" value="0">
                <div class="time-display">
                    <span id="currentTime">0:00</span> / <span id="totalTime">0:00</span>
                </div>
                <div class="volume-control">
                    <label for="volumeSlider">🔊 Volumen</label>
                    <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.5">
                </div>
                <div id="galaxyVisualizer" class="galaxy-visualizer"></div>
                <div class="galaxy-music-section">
                    <h4>🎵 Música de GalaxyX</h4>
                    <button class="song-btn galaxy-song" data-src="assets/audio/Mirror_Temple.mp3" data-title="Mirror Temple" data-artist="Celeste OST">🎵 Mirror Temple</button>
                    <button class="song-btn galaxy-song" data-src="assets/audio/Ender.mp3" data-title="Ender" data-artist="Mythic Beats">🎵 Ender</button>
                </div>
                <div id="musicSearchResults" class="search-results"></div>
                <div id="playlists" class="card">Listas: <ul id="playlistList"></ul><button id="createPlaylistBtn" class="secondary-btn">Crear Lista</button></div>
            </div>
        </section>

                <!-- EXPLORADOR -->
        <section id="explorer" class="section hidden">
            <h2 class="section-title glow">🚀 Explorador Estelar</h2>
            <div class="card explorer-game">
                <p>¡Navega y captura estrellas!</p>
                <canvas id="explorerCanvas" width="600" height="400"></canvas>
                <button id="startExplorerBtn" class="primary-btn">Iniciar</button>
                <p id="explorerScore">Puntuación: 0</p>
            </div>
        </section>

        <!-- TRIVIA GALÁCTICA -->
        <section id="trivia" class="section hidden">
            <h2 class="section-title glow">🧠 Trivia Galáctica</h2>
            <div class="card trivia-game">
                <p id="triviaQuestion">Pregunta aquí</p>
                <div id="triviaOptions"></div>
                <button id="nextTriviaBtn" class="primary-btn">Siguiente</button>
                <p id="triviaScore">Puntuación: 0</p>
            </div>
        </section>

        <!-- PERFIL -->
        <section id="perfil" class="section hidden">
            <h2 class="section-title glow">👤 Perfil</h2>
            <div class="card profile-config-card">
                <label for="username">Nombre:</label>
                <input type="text" id="username" placeholder="Nombre de usuario" class="input-full">
                <label for="userEmail">Correo electrónico:</label>
                <input type="email" id="userEmail" placeholder="tu@correo.com" class="input-full">
                <label for="userAvatarInput">Avatar:</label>
                <input type="file" id="userAvatarInput" accept="image/*">
                <div class="profile-actions">
                    <button id="saveProfileBtn" class="primary-btn">Guardar</button>
                    <button id="clearProfileBtn" class="danger-btn">Borrar</button>
                </div>
                <div id="profilePreview" class="profile-preview"></div>
                <div id="activityHistory" class="card">Historial: <ul id="historyList"></ul></div>
                <div id="badges" class="card">Badges: <span id="badgeList"></span></div>
            </div>
        </section>

        <!-- INFO -->
        <section id="info" class="section hidden">
            <h2 class="section-title glow">ℹ️ Info</h2>
            <div class="card info-card">
                <p>Galaxy X: Hub galáctico con chat, foro, música y más.</p>
                <iframe src="https://drive.google.com/file/d/1w_DdAjCHnycZyHeLRUqRy9G75sb7PZSb/preview" width="100%" height="315" allowfullscreen></iframe>
            </div>
        </section>

    </main>

    <!-- REPRODUCTOR FLOTANTE -->
    <div class="music-player">
        <button id="miniPrev">⏮️</button>
        <button id="miniPlayPause">▶️</button>
        <button id="miniNext">⏭️</button>
        <span id="currentSongTitle">Ninguna</span>
        <input type="range" id="miniVolume" min="0" max="1" step="0.01" value="0.5">
    </div>

    <script src="script.js"></script>
    <script src="assets/icons/ai/assistant.js"></script>
</body>
</html>
